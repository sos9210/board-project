<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragment/layout}">

<div layout:fragment="content" class="container">
    <div class="bs-docs-section">
        <div class="row">
            <div class="col-lg-12">
                <div class="page-header">
                    <h1 id="forms">게시글 수정</h1>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="bs-component">
                    <form name="editForm" id="editForm" method="POST" enctype="multipart/form-data">
                        <fieldset>
                            <div class="form-group row">
                                <label for="staticEmail" class="col-sm-2 col-form-label">아이디</label>
                                <div class="col-sm-10">
                                    <input type="text" readonly="" class="form-control-plaintext" id="staticEmail" value="asd123">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="subject" class="form-label mt-4">제목</label>
                                <input type="text" class="form-control" id="subject" name="subject" th:value="${view?.subject}" aria-describedby="emailHelp">
                            </div>
                            <div class="form-group">
                                <label for="content" class="form-label mt-4">내용</label>
                                <textarea class="form-control" id="content" name="content" th:text="${view?.content}" rows="12"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="fileForm" class="form-label mt-4">첨부파일</label>
                                <button type="button" class="btn btn-success" id="fileSelect">파일선택</button>
                                <div class="form-control" id="fileNameText" th:text="${view.attachFile?.realFileName}">첨부파일을 선택해주세요</div>
                                <input class="form-control" type="file" id="fileForm" name="fileForm" style="display:none;">
                            </div>
                          <button type="submit" id="editBtn" class="btn btn-primary mt-4">수정</button>
                        </fieldset>
                    </form>
                </div>
            </div>

        </div>
    </div>
</html>
<script th:inline="javascript">
document.getElementById('fileForm').addEventListener("change", function() {
    document.getElementById('fileNameText').innerText = document.getElementById('fileForm').files[0].name;
});
document.getElementById('fileSelect').addEventListener("click", function() {
    document.getElementById('fileNameText').innerText = '첨부파일을 선택해주세요';
    document.getElementById('fileForm').click();
});
</script>